{"ast":null,"code":"import axios from 'axios';\nexport default {\n  state() {\n    return {};\n  },\n  getters: {},\n  mutations: {\n    UPDATE_THIS_DAY_TASKS: (state, response) => {\n      state.tasklist[0].tasks = response;\n    },\n    UPDATE_THIS_WEEK_TASKS: (state, response) => {\n      state.tasklist[1].tasks = response;\n    }\n  },\n  actions: {\n    GET_THIS_DAY_TASKS({\n      commit\n    }, day) {\n      const presentDay = `${day[2]}-${day[3]}-${day[0]}`;\n      const nextDay = `${day[2]}-${day[3]}-${Number(day[0]) + 1}`;\n      axios({\n        method: 'GET',\n        url: 'http://localhost:5000/task/get',\n        headers: {\n          'authorization': `Bearer ${localStorage.getItem('AccessToken')}`\n        },\n        params: {\n          startTime: `${presentDay}T00:00:00Z`,\n          endTime: `${nextDay}T00:00:00Z`\n        }\n      }).then(response => {\n        commit('UPDATE_THIS_DAY_TASKS', response.data.tasks);\n      }).catch(() => {\n        alert(\"Запрос на этот день не удался\");\n      });\n    },\n    GET_THIS_WEEK_TASKS({\n      commit\n    }, week) {\n      const startTime = `${week[0][3]}-${week[0][4]}-${week[0][1]}`;\n      const endTime = `${week[6][3]}-${week[6][4]}-${week[6][1]}`;\n      axios({\n        method: 'GET',\n        url: 'http://localhost:5000/task/get',\n        headers: {\n          'authorization': `Bearer ${localStorage.getItem('AccessToken')}`\n        },\n        params: {\n          startTime: `${startTime}T00:00:00Z`,\n          endTime: `${endTime}T00:00:00Z`\n        }\n      }).then(response => {\n        commit('UPDATE_THIS_WEEK_TASKS', response.data.tasks);\n      }).catch(() => {\n        alert(\"Запрос на эту неделю не удался\");\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","state","getters","mutations","UPDATE_THIS_DAY_TASKS","response","tasklist","tasks","UPDATE_THIS_WEEK_TASKS","actions","GET_THIS_DAY_TASKS","commit","day","presentDay","nextDay","Number","method","url","headers","localStorage","getItem","params","startTime","endTime","then","data","catch","alert","GET_THIS_WEEK_TASKS","week"],"sources":["C:/Users/Sergey/Documents/GitHub/task-manager/client/src/store/modules/User/UserTask.js"],"sourcesContent":["import axios from 'axios'\r\nexport default {\r\n    state() {\r\n        return {\r\n            \r\n        }\r\n        \r\n    }, \r\n    getters: {\r\n        \r\n    }, \r\n    mutations: {\r\n        UPDATE_THIS_DAY_TASKS: (state, response) => {\r\n            state.tasklist[0].tasks = response\r\n        }, \r\n        UPDATE_THIS_WEEK_TASKS: (state, response) => {\r\n            state.tasklist[1].tasks = response\r\n        }, \r\n    }, \r\n    actions: {\r\n        GET_THIS_DAY_TASKS({commit}, day) {\r\n            const presentDay = `${day[2]}-${day[3]}-${day[0]}`\r\n            const nextDay = `${day[2]}-${day[3]}-${Number(day[0]) + 1}`\r\n\r\n            axios({\r\n                method: 'GET', \r\n                url: 'http://localhost:5000/task/get',\r\n                headers: {'authorization': `Bearer ${localStorage.getItem('AccessToken')}`},\r\n                params: {\r\n                    startTime: `${presentDay}T00:00:00Z`, \r\n                    endTime: `${nextDay}T00:00:00Z`, \r\n                }\r\n            })\r\n            .then((response) => {\r\n                commit('UPDATE_THIS_DAY_TASKS', response.data.tasks)\r\n            })\r\n            .catch(() => {\r\n                alert(\"Запрос на этот день не удался\")\r\n            })   \r\n        },\r\n\r\n        GET_THIS_WEEK_TASKS({commit}, week) {\r\n            const startTime = `${week[0][3]}-${week[0][4]}-${week[0][1]}`\r\n            const endTime = `${week[6][3]}-${week[6][4]}-${week[6][1]}`\r\n\r\n            axios({\r\n                method: 'GET', \r\n                url: 'http://localhost:5000/task/get',\r\n                headers: {'authorization': `Bearer ${localStorage.getItem('AccessToken')}`},\r\n                params: {\r\n                    startTime: `${startTime}T00:00:00Z`, \r\n                    endTime: `${endTime}T00:00:00Z`, \r\n                }\r\n            })\r\n            .then((response) => {\r\n                commit('UPDATE_THIS_WEEK_TASKS', response.data.tasks)\r\n            })\r\n            .catch(() => {\r\n                alert(\"Запрос на эту неделю не удался\")\r\n            })   \r\n        },\r\n    }\r\n\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,eAAe;EACXC,KAAKA,CAAA,EAAG;IACJ,OAAO,CAEP,CAAC;EAEL,CAAC;EACDC,OAAO,EAAE,CAET,CAAC;EACDC,SAAS,EAAE;IACPC,qBAAqB,EAAEA,CAACH,KAAK,EAAEI,QAAQ,KAAK;MACxCJ,KAAK,CAACK,QAAQ,CAAC,CAAC,CAAC,CAACC,KAAK,GAAGF,QAAQ;IACtC,CAAC;IACDG,sBAAsB,EAAEA,CAACP,KAAK,EAAEI,QAAQ,KAAK;MACzCJ,KAAK,CAACK,QAAQ,CAAC,CAAC,CAAC,CAACC,KAAK,GAAGF,QAAQ;IACtC;EACJ,CAAC;EACDI,OAAO,EAAE;IACLC,kBAAkBA,CAAC;MAACC;IAAM,CAAC,EAAEC,GAAG,EAAE;MAC9B,MAAMC,UAAU,GAAI,GAAED,GAAG,CAAC,CAAC,CAAE,IAAGA,GAAG,CAAC,CAAC,CAAE,IAAGA,GAAG,CAAC,CAAC,CAAE,EAAC;MAClD,MAAME,OAAO,GAAI,GAAEF,GAAG,CAAC,CAAC,CAAE,IAAGA,GAAG,CAAC,CAAC,CAAE,IAAGG,MAAM,CAACH,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAE,EAAC;MAE3DZ,KAAK,CAAC;QACFgB,MAAM,EAAE,KAAK;QACbC,GAAG,EAAE,gCAAgC;QACrCC,OAAO,EAAE;UAAC,eAAe,EAAG,UAASC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAE;QAAC,CAAC;QAC3EC,MAAM,EAAE;UACJC,SAAS,EAAG,GAAET,UAAW,YAAW;UACpCU,OAAO,EAAG,GAAET,OAAQ;QACxB;MACJ,CAAC,CAAC,CACDU,IAAI,CAAEnB,QAAQ,IAAK;QAChBM,MAAM,CAAC,uBAAuB,EAAEN,QAAQ,CAACoB,IAAI,CAAClB,KAAK,CAAC;MACxD,CAAC,CAAC,CACDmB,KAAK,CAAC,MAAM;QACTC,KAAK,CAAC,+BAA+B,CAAC;MAC1C,CAAC,CAAC;IACN,CAAC;IAEDC,mBAAmBA,CAAC;MAACjB;IAAM,CAAC,EAAEkB,IAAI,EAAE;MAChC,MAAMP,SAAS,GAAI,GAAEO,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAE,IAAGA,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAE,IAAGA,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAE,EAAC;MAC7D,MAAMN,OAAO,GAAI,GAAEM,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAE,IAAGA,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAE,IAAGA,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAE,EAAC;MAE3D7B,KAAK,CAAC;QACFgB,MAAM,EAAE,KAAK;QACbC,GAAG,EAAE,gCAAgC;QACrCC,OAAO,EAAE;UAAC,eAAe,EAAG,UAASC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAE;QAAC,CAAC;QAC3EC,MAAM,EAAE;UACJC,SAAS,EAAG,GAAEA,SAAU,YAAW;UACnCC,OAAO,EAAG,GAAEA,OAAQ;QACxB;MACJ,CAAC,CAAC,CACDC,IAAI,CAAEnB,QAAQ,IAAK;QAChBM,MAAM,CAAC,wBAAwB,EAAEN,QAAQ,CAACoB,IAAI,CAAClB,KAAK,CAAC;MACzD,CAAC,CAAC,CACDmB,KAAK,CAAC,MAAM;QACTC,KAAK,CAAC,gCAAgC,CAAC;MAC3C,CAAC,CAAC;IACN;EACJ;AAEJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}